import{i as f,c as m,a as p,b as g}from"./vendor-af062a2d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function h(){const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),r=document.querySelector(".js-close-menu"),o=document.querySelector("body"),n=i=>{(i.target.classList.contains("nav__link")||i.target.classList.contains("mobile-backdrop"))&&s()},s=()=>{const i=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!i),e.classList.toggle("is-open"),o.classList.toggle("fixed")};t.addEventListener("click",s),e.addEventListener("click",n),r.addEventListener("click",i=>{s()}),window.matchMedia("(min-width: 768px)").addEventListener("change",i=>{i.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))})}function b(){document.querySelectorAll(".header-nav-link").forEach(t=>{window.location.pathname.includes(t.dataset.page)&&t.classList.add("active")})}function l(e,t,r="topRight",o=5e3){f.show({message:e,color:t,position:r,timeout:o})}function y(e){l(e,"red")}function L(e){l(e,"green")}const S=m({email:p().email().required()}),v="https://your-energy.b.goit.study/api";function w(e){return g.post(`${v}/subscription`,e).then(t=>t.data)}const c="visually-hidden";function q(e){e&&e.classList.remove(c)}function x(e){e&&e.classList.add(c)}const u=document.querySelector("#js-subscribe"),a=document.querySelector("#js-subscribe-spinner");async function M(e){e.preventDefault(),d(e.target);const t=new FormData(e.target);try{const r=await S.validate({email:t.get("email")}),o=await w(r);L(o.message)}catch(r){y(r.response.data.message)}finally{setTimeout(()=>{e.target.reset(),d(e.target)},500)}}function E(e){e.classList.add(c)}function A(e){e.classList.remove(c)}function d(e){if(!e)return;const t=e.children.subscribeBtn,r=t.children[0];if(a.classList.contains(c)){t.disabled=!0,q(a),E(r);return}x(a),A(r),t.disabled=!1}function B(){u&&u.addEventListener("submit",M)}document.querySelector(".modal-exercises");document.querySelector(".overlay");document.querySelector(".js-list");function O(){h(),b(),B()}O();
//# sourceMappingURL=main-801a8638.js.map
