import{i as m,c as h,a as p,b as g,t as b}from"./vendor-defd719a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function y(){const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),r=document.querySelector("body"),s=i=>{(i.target.classList.contains("nav__link")||i.target.classList.contains("mobile-backdrop"))&&o()},o=()=>{const i=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!i),e.classList.toggle("is-open"),r.classList.toggle("fixed")};t.addEventListener("click",o),e.addEventListener("click",s),n.addEventListener("click",i=>{o()}),window.matchMedia("(min-width: 768px)").addEventListener("change",i=>{i.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))})}function L(){const e=document.querySelectorAll(".header-nav-link");let t=!0;e.forEach(n=>{window.location.pathname.includes(n.dataset.page)&&(n.classList.add("active"),t=!1)}),t&&document.querySelectorAll(".header-nav-link[data-page='home']").forEach(r=>r.classList.add("active"))}function u(e,t,n="topRight",r=5e3){m.show({message:e,color:t,position:n,timeout:r})}function S(e){u(e,"red")}function v(e){u(e,"green")}const w=h({email:p().email().required()}),E="https://your-energy.b.goit.study/api";function q(e){return g.post(`${E}/subscription`,e).then(t=>t.data)}const c="visually-hidden";function M(e){e&&e.classList.remove(c)}function x(e){e&&e.classList.add(c)}const d=document.querySelector("#js-subscribe"),a=document.querySelector("#js-subscribe-spinner");async function A(e){e.preventDefault(),l(e.target);const t=new FormData(e.target);try{const n=await w.validate({email:t.get("email")}),r=await q(n);v(r.message)}catch(n){S(n.response.data.message)}finally{setTimeout(()=>{e.target.reset(),l(e.target)},500)}}function B(e){e.classList.add(c)}function O(e){e.classList.remove(c)}function l(e){if(!e)return;const t=e.children.subscribeBtn,n=t.children[0];if(a.classList.contains(c)){t.disabled=!0,M(a),B(n);return}x(a),O(n),t.disabled=!1}function j(){d&&d.addEventListener("submit",A)}document.querySelector(".modal-exercises");document.querySelector(".overlay");document.querySelector(".js-list");const f=Object.freeze({hidden:"visually-hidden"}),T=e=>{e==null||e.classList.remove(f.hidden)},k=e=>{e==null||e.classList.add(f.hidden)};function P(){const e=document.querySelector(".scroll-up-button");function t(){window.scrollTo({top:0,behavior:"smooth"})}const n=b(()=>{window.scrollY>=100?T(e):k(e)},500);window.addEventListener("scroll",n),e.addEventListener("click",t)}function I(){y(),L(),j(),P()}I();
//# sourceMappingURL=main-8147f393.js.map
