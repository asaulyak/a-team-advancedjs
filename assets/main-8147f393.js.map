{"version":3,"file":"main-8147f393.js","sources":["../../src/burger/burger.js","../../src/header-highlighting/header-highlighting.js","../../src/toast/toast.js","../../src/validation/subscribe.schema.js","../../src/api/api.js","../../src/spinner/spinner.js","../../src/subscribe/subscribe.js","../../src/modal/modal-exercises.js","../../src/common/common.js","../../src/scroll-up/scroll-up.js","../../src/main.js"],"sourcesContent":["export function initBurger() {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n  const body = document.querySelector('body');\n\n  const onClickMobileMenu = event => {\n    if (\n      event.target.classList.contains('nav__link') ||\n      event.target.classList.contains('mobile-backdrop')\n    ) {\n      toggleMenu();\n    }\n  };\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n    body.classList.toggle('fixed');\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  mobileMenu.addEventListener('click', onClickMobileMenu);\n\n  closeMenuBtn.addEventListener('click', e => {\n    toggleMenu();\n  });\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) {\n      return;\n    }\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n  });\n}\n","export function headerHighlighting() {\n  const headerItems = document.querySelectorAll('.header-nav-link');\n  let isMainPage = true;\n  headerItems.forEach(el => {\n    if (window.location.pathname.includes(el.dataset.page)) {\n      el.classList.add('active');\n      isMainPage = false;\n    }\n  });\n  if (isMainPage) {\n    const homeLinks = document.querySelectorAll(\n      \".header-nav-link[data-page='home']\"\n    );\n    homeLinks.forEach(el => el.classList.add('active'));\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showMessage(\n  message,\n  color,\n  position = 'topRight',\n  timeout = 5000\n) {\n  iziToast.show({\n    message,\n    color,\n    position,\n    timeout,\n  });\n}\n\nexport function showError(message) {\n  showMessage(message, 'red');\n}\n\nexport function showInfo(message) {\n  showMessage(message, 'green');\n}\n","import { object, string } from 'yup';\n\n/**\n * Usage:\n * const schema = await subscribeSchema.validate(formData);\n * https://www.npmjs.com/package/yup\n */\nexport const subscribeSchema = object({\n  email: string().email().required(),\n});\n","import axios from 'axios';\n\nconst API_BASE_URL = 'https://your-energy.b.goit.study/api';\n\n/**\n * This is needed to normalize api response with pagination\n * Do NOT use it for other responses\n * example:\n * {\n *   page: \"1\",\n *   perPage: \"12\",\n *   totalPages: null,\n *   results: [ ]\n * }\n * should become\n * {\n *   page: 1,\n *   perPage: 12,\n *   totalPages: 0,\n *   results: [ ]\n * }\n */\nfunction preparePaginatedResponse(paginatedResponse) {\n  const { page, perPage, totalPages } = paginatedResponse.data;\n\n  return {\n    ...paginatedResponse,\n    page: +page,\n    perPage: +perPage,\n    totalPages: totalPages ?? 0,\n  };\n}\n\nexport function getExercises(page = 1, limit = 12) {\n  return axios\n    .get(`${API_BASE_URL}/exercises?page=${page}&limit=${limit}`)\n    .then(response => preparePaginatedResponse(response));\n}\nexport function getExercisesById(_id) {\n  return axios\n    .get(`${API_BASE_URL}/exercises/${_id}`)\n    .then(response => response.data);\n}\n\nexport function getQuote() {\n  return axios.get(`${API_BASE_URL}/quote`).then(response => response.data);\n}\n\nexport function sendSubscribe(body) {\n  return axios\n    .post(`${API_BASE_URL}/subscription`, body)\n    .then(response => response.data);\n}\n","export const hiddenStyle = 'visually-hidden';\n\n/**\n * @example\n * HTML\n * <span  class=\"spinner visually-hidden\" id=\"js-spinner\"></span>\n *\n *JS\n *const spinner = document.querySelector('#js-spinner');\n *\n *onSpiner(spinner) -> show animation\n */\nexport function onSpinner(spinnerRef) {\n  if (!spinnerRef) return;\n  spinnerRef.classList.remove(hiddenStyle);\n}\n\n/**\n * @example\n * HTML\n * <span  class=\"spinner visually-hidden\" id=\"js-spinner\"></span>\n *\n *JS\n *const spinner = document.querySelector('#js-spinner');\n *\n *offSpiner(spinner) -> hide animation\n */\nexport function offSpinner(spinnerRef) {\n  if (!spinnerRef) return;\n  spinnerRef.classList.add(hiddenStyle);\n}\n","import { showError, showInfo } from '../toast/toast';\nimport { subscribeSchema } from '../validation/subscribe.schema';\nimport { sendSubscribe } from '../api/api';\nimport { hiddenStyle, onSpinner, offSpinner } from '../spinner/spinner';\n\nconst form = document.querySelector('#js-subscribe');\nconst spinner = document.querySelector('#js-subscribe-spinner');\n\nasync function handleSubmit(e) {\n  e.preventDefault();\n\n  toggleSpinner(e.target);\n\n  const formData = new FormData(e.target);\n\n  try {\n    const schema = await subscribeSchema.validate({\n      email: formData.get('email'),\n    });\n    const response = await sendSubscribe(schema);\n    showInfo(response.message);\n  } catch (error) {\n    showError(error.response.data.message);\n  } finally {\n    setTimeout(() => {\n      e.target.reset();\n      toggleSpinner(e.target);\n    }, 500);\n  }\n}\n\nfunction hideBtnText(textElementRef) {\n  textElementRef.classList.add(hiddenStyle);\n}\n\nfunction showBtnText(textElementRef) {\n  textElementRef.classList.remove(hiddenStyle);\n}\n\nfunction toggleSpinner(element) {\n  if (!element) return;\n  const btnRef = element.children.subscribeBtn;\n  const textRef = btnRef.children[0];\n\n  if (spinner.classList.contains(hiddenStyle)) {\n    btnRef.disabled = true;\n    onSpinner(spinner);\n    hideBtnText(textRef);\n    return;\n  }\n  offSpinner(spinner);\n  showBtnText(textRef);\n  btnRef.disabled = false;\n}\n\nexport function initSubscribe() {\n  if (!form) return;\n  form.addEventListener('submit', handleSubmit);\n}\n","import { getExercisesById } from '../api/api';\nimport image from '../image/modal-exercises-img.jpg';\nimport icons from '../image/icons.svg';\n\nconst modalExercises = document.querySelector('.modal-exercises');\nconst overlay = document.querySelector('.overlay');\nconst listItem = document.querySelector('.js-list');\n\n// const exerciseData = await getExercisesById(exerciseID); // TO DO:get data-id from start btn to continue\n\n// const markup = createMarkup(exerciseData);\n// updateModal(markup);\n\nfunction openModalExercises() {\n  modalExercises.classList.remove('visually-hidden');\n  overlay.classList.remove('visually-hidden');\n}\n\nfunction updateModal(markup) {\n  modalExercises.innerHTML = markup;\n}\nfunction createRating(rating) {\n  const starColor = '#EEA10C';\n  const emptyStarColor = '#F4F4F4';\n  const totalStars = 5;\n  const stars = [];\n\n  //Loop through each star to create the SVG markup\n  for (let i = 0; i < totalStars; i++) {\n    // Calculate the fill percentage based on the rating\n    const fillPercentage =\n      i + 1 <= rating ? 100 : i < rating ? (rating % 1) * 100 : 0;\n    // Create SVG markup for each star\n    const starMarkup = `\n<svg width=\"14\" height=\"13\">\n        <use href=\"${icons}#icon-star\"></use>\n        <linearGradient id=\"starGradient${i}\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" style=\"stop-color:${starColor};stop-opacity:1\" />\n          <stop offset=\"${fillPercentage}%\" style=\"stop-color:${starColor};stop-opacity:1\" />\n          <stop offset=\"${fillPercentage + 1}%\" style=\"stop-color:${emptyStarColor};stop-opacity:0.20\" />\n        </linearGradient>\n        <path\n          d=\"M6.04894 0.927052C6.3483 0.0057416 7.6517 0.00574088 7.95106 0.927052L8.79611 3.52786C8.92999 3.93989 9.31394 4.21885 9.74717 4.21885H12.4818C13.4505 4.21885 13.8533 5.45846 13.0696 6.02786L10.8572 7.63525C10.5067 7.8899 10.3601 8.34127 10.494 8.75329L11.339 11.3541C11.6384 12.2754 10.5839 13.0415 9.80017 12.4721L7.58779 10.8647C7.2373 10.6101 6.7627 10.6101 6.41222 10.8647L4.19983 12.4721C3.41612 13.0415 2.36164 12.2754 2.66099 11.3541L3.50604 8.75329C3.63992 8.34127 3.49326 7.8899 3.14277 7.63525L0.930391 6.02787C0.146677 5.45846 0.549452 4.21885 1.51818 4.21885H4.25283C4.68606 4.21885 5.07001 3.93989 5.20389 3.52786L6.04894 0.927052Z\"\n          fill=\"url(#starGradient${i})\"\n          fill-opacity=\"1\"\n        />\n      </svg>\n    `;\n    //Push SVG markup of current star to the stars array\n    stars.push(starMarkup);\n  }\n  const ratingText = Number.isInteger(rating)\n    ? `${rating}.0`\n    : rating.toFixed(1);\n  // Combine rating text with stars markup\n  const ratingWithStars = `${ratingText} ${stars.join('')}`;\n  return ratingWithStars;\n}\n\nfunction createMarkup({\n  _id,\n  bodyPart,\n  equipment,\n  gifUrl,\n  name,\n  target,\n  description,\n  rating,\n  burnedCalories,\n  time,\n  popularity,\n}) {\n  const getExerciseGif = getGif(gifUrl);\n  function getGif(gifUrl) {\n    if (gifUrl === null || !gifUrl) {\n      return `srcset = '${image}\n      src = '${image}'`;\n    }\n    return `src=\"${gifUrl}\"`;\n  }\n\n  const ratingStars = createRating(rating);\n\n  return `\n  <div class=\"modal-exercises-container\" data-id=\"${_id}\">\n    <button class=\"modal-exercises-btn-close\">\n      <svg width=\"24\" height=\"24\">\n        <use href=\"${icons}#icon-close-menu\"></use>\n      </svg>\n    </button>\n\n    <img\n    class=\"modal-exercises-img\"\n    ${getExerciseGif}\n    alt=\"Exercise image\"\n    />\n\n    <div class=\"modal-exercises-card\">\n      <h2 class=\"modal-exercises-name\">${name}</h2>\n      <div class=\"modal-exercises-rating\">${ratingStars}</div>\n\n        <div class=\"modal-exercises-block\">\n          <ul class=\"modal-exercises-list\">\n            <li class=\"modal-exercises-item\">\n              <h3 class=\"modal-exercises-subtitle\">Target</h3>\n              <p class=\"modal-exercises-text\">${target}</p>\n            </li>\n\n            <li class=\"modal-exercises-item\">\n              <h3 class=\"modal-exercises-subtitle\">Body Part</h3>\n              <p class=\"modal-exercises-text\">${bodyPart}</p>\n            </li>\n\n            <li class=\"modal-exercises-item\">\n              <h3 class=\"modal-exercises-subtitle\">Equipment</h3>\n              <p class=\"modal-exercises-text\">${equipment}</p>\n            </li>\n\n            <li class=\"modal-exercises-item\">\n              <h3 class=\"modal-exercises-subtitle\">Popular</h3>\n              <p class=\"modal-exercises-text\">${popularity}</p>\n            </li>\n            \n            <li class=\"modal-exercises-item\">\n              <h3 class=\"modal-exercises-subtitle\">Burned Calories</h3>\n              <p class=\"modal-exercises-text\">${burnedCalories}/${time}</p>\n            </li>\n          </ul>\n          <p class=\"modal-exercises-description\">${description}</p>\n        </div>\n    </div>\n  </div>\n  <div class=\"modal-exercises-btn-container\">\n  <button class=\"modal-exercises-btn-favorites modal-exercises-btn\" type=\"button\" data-id=\"${_id}\">\n      Add to favorites\n      <svg class=\"btn-favorites-icon\">\n        <use href=\"${icons}#icon-favorites\"></use>\n      </svg>\n    </button>\n  <button class=\"modal-exercises-btn-rating modal-exercises-btn\" type=\"button\" data-id=\"${_id}\">Give a rating</button>\n</div>\n`;\n}\n","const CLASSES = Object.freeze({\n  hidden: 'visually-hidden',\n});\n\nconst showElement = el => {\n  el?.classList.remove(CLASSES.hidden);\n};\n\nconst hideElement = el => {\n  el?.classList.add(CLASSES.hidden);\n};\n\nexport { CLASSES, hideElement, showElement };\n","import throttle from 'lodash.throttle';\nimport { showElement, hideElement } from '../common/common';\n\nexport function initScrollUp() {\n  const scrollUpBtn = document.querySelector('.scroll-up-button');\n\n  function goToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n\n  const onScroll = throttle(() => {\n    if (window.scrollY >= 100) {\n      showElement(scrollUpBtn);\n    } else {\n      hideElement(scrollUpBtn);\n    }\n  }, 500);\n\n  window.addEventListener('scroll', onScroll);\n  scrollUpBtn.addEventListener('click', goToTop);\n}\n","// Main entry point\nimport { initBurger } from './burger/burger.js';\n// Header highlighting\nimport { headerHighlighting } from './header-highlighting/header-highlighting.js';\n\n// Subscribe\nimport { initSubscribe } from './subscribe/subscribe.js';\n// Categories List\nimport './categories-list/categories-list.js';\n//Modal Exercises\nimport './modal/modal-exercises.js';\n// Scroll up button\nimport { initScrollUp } from './scroll-up/scroll-up.js';\n\nfunction start() {\n  initBurger();\n  headerHighlighting();\n  initSubscribe();\n  initScrollUp();\n}\n\n// Execution starts here\nstart();\n"],"names":["initBurger","mobileMenu","openMenuBtn","closeMenuBtn","body","onClickMobileMenu","event","toggleMenu","isMenuOpen","e","headerHighlighting","headerItems","isMainPage","el","showMessage","message","color","position","timeout","iziToast","showError","showInfo","subscribeSchema","object","string","API_BASE_URL","sendSubscribe","axios","response","hiddenStyle","onSpinner","spinnerRef","offSpinner","form","spinner","handleSubmit","toggleSpinner","formData","schema","error","hideBtnText","textElementRef","showBtnText","element","btnRef","textRef","initSubscribe","CLASSES","showElement","hideElement","initScrollUp","scrollUpBtn","goToTop","onScroll","throttle","start"],"mappings":"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"}