import{i as f,c as m,a as h,b as p}from"./vendor-af062a2d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();function g(){const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),o=document.querySelector("body"),n=i=>{(i.target.classList.contains("nav__link")||i.target.classList.contains("mobile-backdrop"))&&r()},r=()=>{const i=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!i),e.classList.toggle("is-open"),o.classList.toggle("fixed")};t.addEventListener("click",r),e.addEventListener("click",n),s.addEventListener("click",i=>{r()}),window.matchMedia("(min-width: 768px)").addEventListener("change",i=>{i.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))})}function y(){const e=document.querySelectorAll(".header-nav-link");let t=!0;e.forEach(s=>{window.location.pathname.includes(s.dataset.page)&&(s.classList.add("active"),t=!1)}),t&&document.querySelectorAll(".header-nav-link[data-page='home']").forEach(o=>o.classList.add("active"))}function d(e,t,s="topRight",o=5e3){f.show({message:e,color:t,position:s,timeout:o})}function b(e){d(e,"red")}function L(e){d(e,"green")}const S=m({email:h().email().required()}),v="https://your-energy.b.goit.study/api";function w(e){return p.post(`${v}/subscription`,e).then(t=>t.data)}const c="visually-hidden";function q(e){e&&e.classList.remove(c)}function M(e){e&&e.classList.add(c)}const u=document.querySelector("#js-subscribe"),a=document.querySelector("#js-subscribe-spinner");async function x(e){e.preventDefault(),l(e.target);const t=new FormData(e.target);try{const s=await S.validate({email:t.get("email")}),o=await w(s);L(o.message)}catch(s){b(s.response.data.message)}finally{setTimeout(()=>{e.target.reset(),l(e.target)},500)}}function E(e){e.classList.add(c)}function A(e){e.classList.remove(c)}function l(e){if(!e)return;const t=e.children.subscribeBtn,s=t.children[0];if(a.classList.contains(c)){t.disabled=!0,q(a),E(s);return}M(a),A(s),t.disabled=!1}function B(){u&&u.addEventListener("submit",x)}document.querySelector(".modal-exercises");document.querySelector(".overlay");document.querySelector(".js-list");function O(){g(),y(),B()}O();
//# sourceMappingURL=main-59a6a869.js.map
